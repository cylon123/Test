metadata={systemName:"JSONPlaceholder",displayName:"JSONPlaceholder Broker",description:"Sample broker for JSONPlaceholder",configuration:{ServiceURL:{displayName:"JSONPlaceholder Service URL",type:"string",value:"https://jsonplaceholder.typicode.com/"}}},ondescribe=async function({configuration:e}){postSchema({objects:{posts:{displayName:"Posts",description:"Manages Posts",properties:{id:{displayName:"ID",type:"number"},userId:{displayName:"User ID",type:"number"},title:{displayName:"Title",type:"string"},body:{displayName:"Body",type:"string"}},methods:{getList:{displayName:"Get Posts List",type:"list",outputs:["id","userId","title","body"]},getById:{displayName:"Get Post By ID",type:"read",inputs:["id"],requiredInputs:["id"],outputs:["id","userId","title","body"]},getByUserId:{displayName:"Get Posts By User ID",type:"list",inputs:["userId"],requiredInputs:["userId"],outputs:["id","userId","title","body"]},create:{displayName:"Create Post",type:"create",inputs:["userId","title","body"],outputs:["id","userId","title","body"]},update:{displayName:"Update Post",type:"update",inputs:["id","userId","title","body"],requiredInputs:["id"],outputs:["id","userId","title","body"]},delete:{displayName:"Delete Post",type:"delete",inputs:["id"],requiredInputs:["id"]}}},comments:{displayName:"Comments",description:"Manages Comments",properties:{id:{displayName:"ID",type:"number"},postId:{displayName:"Post ID",type:"number"},name:{displayName:"Name",type:"string"},email:{displayName:"Email",type:"string"},body:{displayName:"Body",type:"string"}},methods:{getList:{displayName:"Get Comments List",type:"list",outputs:["id","postId","name","email","body"]},getById:{displayName:"Get Comment By ID",type:"read",inputs:["id"],requiredInputs:["id"],outputs:["id","postId","name","email","body"]},getByPostId:{displayName:"Get Comments By Post ID",type:"list",inputs:["postId"],requiredInputs:["postId"],outputs:["id","postId","name","email","body"]}}},todos:{displayName:"To Do",description:"Manages To Dos",properties:{id:{displayName:"ID",type:"number"},userId:{displayName:"User ID",type:"number"},title:{displayName:"Title",type:"string"},completed:{displayName:"Completed",type:"boolean"}},methods:{getList:{displayName:"Get To Dos List",type:"list",outputs:["id","userId","title","completed"]},getById:{displayName:"Get To Do By ID",type:"read",inputs:["id"],requiredInputs:["id"],outputs:["id","userId","title","completed"]}}},users:{displayName:"Users",description:"Manages Users",properties:{id:{displayName:"ID",type:"number"},name:{displayName:"Name",type:"string"},username:{displayName:"User Name",type:"string"},email:{displayName:"Email",type:"string"},addressStreet:{displayName:"Address.Street",type:"string"},addressSuite:{displayName:"Address.Suite",type:"string"},addressCity:{displayName:"Address.City",type:"string"},addressGeoLat:{displayName:"Address.Geo.Latitude",type:"string"},addressGeoLng:{displayName:"Address.Get.Longitude",type:"string"},phone:{displayName:"Phone",type:"string"},website:{displayName:"Website",type:"string"},companyName:{displayName:"Company.Name",type:"string"},companyCatchPhrase:{displayName:"Company.CatchPhrase",type:"string"},companyBs:{displayName:"Company.BS",type:"string"}},methods:{getList:{displayName:"Get Users List",type:"list",outputs:["id","name","username","email","addressStreet","addressSuite","addressCity","addressGeoLat","addressGeoLng","phone","website","companyName","companyCatchPhrase","companyBs"]},getById:{displayName:"Get Users By ID",type:"read",inputs:["id"],requiredInputs:["id"],outputs:["id","name","username","email","addressStreet","addressSuite","addressCity","addressGeoLat","addressGeoLng","phone","website","companyName","companyCatchPhrase","companyBs"]}}}}})},onexecute=async function({objectName:e,methodName:t,parameters:s,properties:a,configuration:r}){switch(e){case"posts":await async function(e,t,s,a){switch(e){case"getList":await function(e,t,s){return new Promise((e,t)=>{var a=s.ServiceURL+"posts/",r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(4!==r.readyState)return;if(200!==r.status)throw new Error("Failed with status "+r.status);var s=JSON.parse(r.responseText);postResult(s.map(e=>({id:e.id,userId:e.userId,title:e.title,body:e.body}))),e()}catch(e){t(e)}},r.open("GET",a),r.send()})}(0,0,a);break;case"getById":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL+"posts/",i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var t=JSON.parse(i.responseText);postResult({id:t.id,userId:t.userId,title:t.title,body:t.body}),e()}catch(e){a(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');i.open("GET",r+encodeURIComponent(t.id)),i.send()})}(0,s,a);break;case"getByUserId":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL+"posts?userId=",i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var t=JSON.parse(i.responseText);postResult(t.map(e=>({id:e.id,userId:e.userId,title:e.title,body:e.body}))),e()}catch(e){a(e)}},"number"!=typeof t.userId)throw new Error('properties["userId"] is not of type number');i.open("GET",r+encodeURIComponent(t.userId)),i.send()})}(0,s,a);break;case"create":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL+"posts/",i=JSON.stringify({userId:t.userId,title:t.title,body:t.body}),o=new XMLHttpRequest;o.onreadystatechange=function(){try{if(4!==o.readyState)return;if(201!==o.status)throw new Error("Failed with status "+o.status);var t=JSON.parse(o.responseText);postResult({id:t.id,userId:t.userId,title:t.title,body:t.body}),e()}catch(e){a(e)}},o.open("POST",r),o.setRequestHeader("Content-Type","application/json"),o.send(i)})}(0,s,a);break;case"update":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL+"posts/",i=JSON.stringify({userId:t.userId,title:t.title,body:t.body}),o=new XMLHttpRequest;if(o.onreadystatechange=function(){try{if(4!==o.readyState)return;if(200!==o.status)throw new Error("Failed with status "+o.status);var t=JSON.parse(o.responseText);postResult({id:t.id,userId:t.userId,title:t.title,body:t.body}),e()}catch(e){a(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');o.open("PUT",r+encodeURIComponent(t.id)),o.setRequestHeader("Content-Type","application/json"),o.send(i)})}(0,s,a);break;case"delete":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL,i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);e()}catch(e){a(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');i.open("DELETE",r+"posts/"+encodeURIComponent(t.id)),i.setRequestHeader("Content-Type","application/json"),i.send()})}(0,s,a);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,a,r);break;case"comments":await async function(e,t,s,a){switch(e){case"getList":await function(e,t,s){return new Promise((e,t)=>{var a=s.ServiceURL+"comments",r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(4!==r.readyState)return;if(200!==r.status)throw new Error("Failed with status "+r.status);var s=JSON.parse(r.responseText);postResult(s.map(e=>({id:e.id,postId:e.postId,name:e.name,email:e.email,body:e.body}))),e()}catch(e){t(e)}},r.open("GET",a),r.send()})}(0,0,a);break;case"getById":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL,i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var t=JSON.parse(i.responseText);postResult({id:t.id,postId:t.postId,name:t.name,email:t.email,body:t.body}),e()}catch(e){a(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');i.open("GET",r+"comments/"+encodeURIComponent(t.id)),i.send()})}(0,s,a);break;case"getByPostId":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL,i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var t=JSON.parse(i.responseText);postResult(t.map(e=>({id:e.id,postId:e.postId,name:e.name,email:e.email,body:e.body}))),e()}catch(e){a(e)}},"number"!=typeof t.postId)throw new Error('properties["postId"] is not of type number');i.open("GET",r+"comments?postId="+encodeURIComponent(t.postId)),i.send()})}(0,s,a);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,a,r);break;case"todos":await async function(e,t,s,a){switch(e){case"getList":await function(e,t,s){return new Promise((e,t)=>{var a=s.ServiceURL,r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(4!==r.readyState)return;if(200!==r.status)throw new Error("Failed with status "+r.status);var s=JSON.parse(r.responseText);postResult(s.map(e=>({id:e.id,userId:e.userId,title:e.title,completed:e.completed}))),e()}catch(e){t(e)}},r.open("GET",a+"todos/"),r.send()})}(0,0,a);break;case"getById":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL,i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var t=JSON.parse(i.responseText);postResult({id:t.id,userId:t.userId,title:t.title,completed:t.completed}),e()}catch(e){a(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');i.open("GET",r+"todos/"+encodeURIComponent(t.id)),i.send()})}(0,s,a);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,a,r);break;case"users":await async function(e,t,s,a){switch(e){case"getList":await function(e,t,s){return new Promise((e,t)=>{var a=s.ServiceURL,r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(4!==r.readyState)return;if(200!==r.status)throw new Error("Failed with status "+r.status);var s=JSON.parse(r.responseText);postResult(s.map(e=>({id:e.id,name:e.name,username:e.username,email:e.email,addressStreet:e.address.street,addressSuite:e.address.suite,addressCity:e.address.city,addressGeoLat:e.address.geo.lat,addressGeoLng:e.address.geo.lng,phone:e.phone,website:e.website,companyName:e.company.name,companyCatchPhrase:e.company.catchPhrase,companyBs:e.company.bs}))),e()}catch(e){t(e)}},r.open("GET",a+"users/"),r.send()})}(0,0,a);break;case"getById":await function(e,t,s){return new Promise((e,a)=>{var r=s.ServiceURL,i=new XMLHttpRequest;if(i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var t=JSON.parse(i.responseText);postResult({id:t.id,name:t.name,username:t.username,email:t.email,addressStreet:t.address.street,addressSuite:t.address.suite,addressCity:t.address.city,addressGeoLat:t.address.geo.lat,addressGeoLng:t.address.geo.lng,phone:t.phone,website:t.website,companyName:t.company.name,companyCatchPhrase:t.company.catchPhrase,companyBs:t.company.bs}),e()}catch(e){a(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');i.open("GET",r+"users/"+encodeURIComponent(t.id)),i.send()})}(0,s,a);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,a,r);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
